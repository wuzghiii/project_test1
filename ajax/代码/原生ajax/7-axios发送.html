<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            height: 200px;
            width: 200px;
            border: 1px solid black;
        }
    </style>
    <!-- axios添加 crossorgin防止报错 -->
    <script crossorigin="anonymous" src="https://cdn.bootcdn.net/ajax/libs/axios/1.1.3/axios.js"></script>
</head>
<body>
    <button>get</button>
    <button>post</button>
    <button>json</button>
    <div></div>
</body>
<script>

    var btns=document.querySelectorAll('button');
    var div=document.querySelector('div');
    //配置baseURL;
    axios.defaults.baseURL='http://127.0.0.1:8000'
    


    //get
    btns[0].addEventListener('click',()=>{
        axios.get('/axios_get',{
           
            //url参数（请求行）    
            params:{
                vip:1,
                password:30
            },
            //请求头
            headers:{
                name:'lqq',
                age:17    
            }

        }
    ).then(value=>{
        console.log(value);
    });
    });



    //post
    btns[1].addEventListener('click',()=>{


        //post请求下
        //post(地址，{请求体}，{其他参数：请求头，请求行})
        axios.post('/axios_post',{
            //请求体
            username:123123,
            password:123123
        },{
            
            //url参数（请求行）    
            params:{
                vip:1,
                password:30
            },
            //请求头
            headers:{
                name:'lqq',
                age:17    
            }
        }
    ).then(value=>{
        console.log(value);
    });
    });




    //函数的形式
    btns[2].addEventListener('click',()=>{


        //发请求函数有一定的顺序
        //method：请求方式
        //url：请求地址
        //params：url参数：（请求行）
        //headers：请求头
        //data：请求体
        axios({
            method:'post',
            url:'/axios_post',
            params:{
                vip:2,
                password:50
            },
            headers:{
                name:'lqq',
                age:17  
            },
            data:{
                username:123123,
                password:123123
            }
            
        }).then(response=>{
            //状态码
           console.log(response.status);
            //状态码字符串
           console.log(response.statusText);
           console.log(response.headers);
           console.log(response.data);
           div.innerHTML=response.data.name;
        })
        
    })
</script>
</html>